/*
 * Copyright 2017 Univention GmbH
 *
 * http://www.univention.de/
 *
 * All rights reserved.
 *
 * The source code of this program is made available
 * under the terms of the GNU Affero General Public License version 3
 * (GNU AGPL V3) as published by the Free Software Foundation.
 *
 * Binary versions of this program provided by Univention to you as
 * well as other copyrighted, protected or trademarked materials like
 * Logos, graphics, fonts, specific documentations and configurations,
 * cryptographic keys etc. are subject to a license agreement between
 * you and Univention and not subject to the GNU AGPL V3.
 *
 * In the case you use this program under the terms of the GNU AGPL V3,
 * the program is provided in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public
 * License with the Debian GNU/Linux or Univention distribution in file
 * /usr/share/common-licenses/AGPL-3; if not, see
 * <http://www.gnu.org/licenses/>.
 */

// copy paste from variables.styl (univention-web package)
$material-shadow-transition-value = box-shadow 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms
material-shadow(level)
	if level == 1
		box-shadow: 0 1px 6px rgba(1,0,0,0.117647), 0 1px 4px rgba(0,1,0,0.117647)
	else if level == 2
		box-shadow: 0 3px 10px rgba(1,0,0,0.156863), 0 3px 10px rgba(0,1,0,0.227451)
	else if level == 3
		box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)
	else if level == 4
		box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)
	else if level == 5
		box-shadow: 0px 14px 45px rgba(0, 0, 0, 0.25), 0px 10px 18px rgba(0, 0, 0, 0.22)
	else
		box-shadow: none

.umc
	min-height: 100%
	/* Chrome,Safari4+ */
	background: url(/univention/js/dijit/themes/umc/images/background-tile.png) repeat, -webkit-gradient(linear, left bottom, right top, color-stop(0%, rgba(179,179,179,1)), color-stop(31%, rgba(224,224,224,1)), color-stop(51%, rgba(240,240,240,1)), color-stop(61%, rgba(235,235,235,1)), color-stop(74%, rgba(224,224,224,1)), color-stop(100%, rgba(189,189,189,1)))
	/* Chrome10+,Safari5.1+ */
	background: url(/univention/js/dijit/themes/umc/images/background-tile.png) repeat, -webkit-linear-gradient(to right top, rgba(179,179,179,1) 0%, rgba(224,224,224,1) 31%, rgba(240,240,240,1) 51%, rgba(235,235,235,1) 61%, rgba(224,224,224,1) 74%, rgba(189,189,189,1) 100%)
	/* W3C */
	background: url(/univention/js/dijit/themes/umc/images/background-tile.png) repeat, unquote("linear-gradient(to right top, rgba(179,179,179,1) 0%, rgba(224,224,224,1) 31%, rgba(240,240,240,1) 51%, rgba(235,235,235,1) 61%, rgba(224,224,224,1) 74%, rgba(189,189,189,1) 100%)")

	padding-left: 50px
	padding-right: 30px

	.umcHeader
		box-sizing: content-box
		overflow: visible
		margin-right: -(@padding-right)

		.umcHeaderLeft
			position: relative
			left: 0
			top: 0
			width: 100%

			@media (max-width: 550px)
				padding-top: 40px

			.umcCustomLogo
				width: auto
				height: auto
				max-width: 100px
				max-height: 50px
				margin: 15px 15px 0 0
				float: left

			h1
				margin-top: 15px
				display: inline-block

		.umcHeaderRight
			float: right

		.umcLiveSearch .dijitTextBox
			&:before,
			&:after,
			&
				border-color: #282828

		#portalLogo.editMode,
		#portalTitle.editMode
			cursor: pointer
			

	.content
		margin-top: 50px

		.portalCategory
			margin-bottom: 30px

			&:last-child
				margin-bottom: 0
	
	.portalEditBar
		position: fixed
		z-index: 90
		bottom: 0
		left: 0
		right: 0
		text-align: right
		background-color: #fff
		material-shadow(2)
		transition: transform 0.2s
	
		.portalEditBarCloseButton
			.dijitIcon
				margin: 0 8px
				background: url(/univention/js/dijit/themes/umc/images/icons.svg) -300px -100px no-repeat
				background-size: 320px 260px
				width: 20px
				height: 20px
					
			.dijitButtonText
				display: none

		.portalEditBarAppearanceButton
			.dijitIcon
				margin: 0 8px
				background: url(/univention/js/dijit/themes/umc/images/icons.svg) -260px -100px no-repeat
				background-size: 320px 260px
				width: 40px
				height: 20px

			.dijitButtonText
				display: none
	
	&.editMode
		.content
			margin-bottom: 52px
		.portalEditFloatingButton
			opacity: 0
			visibility: hidden
			transition: opacity 0.2s, visibility 0s 0.25s
	&:not(.editMode)
		.portalEditBar
			transform: translateY(100%)

	.dijitDialog .umcSize-One
		width: 50%

	$portalEditFloatingButton-diameter = 56px
	$portalEditFloatingButton-bottom-padding = 40px

	.portalEditFloatingButton
		position: fixed
		right: 40px
		bottom: $portalEditFloatingButton-bottom-padding
		width: $portalEditFloatingButton-diameter
		height: @width
		border-radius: 50%
		material-shadow(3)
		opacity: 1
		visibility: visible
		transition: $material-shadow-transition-value, opacity 0.2s, visibility 0s 0s
		// transition: $material-shadow-transition-value, transform 0.3s cubic-bezier(0.4, 0.0, 0.6, 1) // fade out transition
		// transform: scale(0)
		// overflow: hidden
		background-color: rgb(250, 200, 0)

		&:hover
			material-shadow(4)

		&:active
			material-shadow(5)

		.icon
			// icon-image(-200, -40, '../', '-white')	
			background: url(/univention/js/dijit/themes/umc/images/icons-white.svg) -200px -40px no-repeat
			background-size: 320px 260px
			width: 20px
			height: 20px
			margin: 18px;
